<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OptiFind - Personalized Learning & Productivity Recommendations</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --success: #4cc9f0;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        body {
            background-color: #f9fafe;
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 40px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo i {
            color: var(--accent);
        }

        .badge {
            background-color: var(--accent);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }

        /* Main Content */
        .main-content {
            padding: 2rem 0;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            position: relative;
            padding-bottom: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--primary);
            border-radius: 2px;
        }

        /* Quiz Styles */
        .quiz-container, .results-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--box-shadow);
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .quiz-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .progress-bar {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            height: 4px;
            background-color: var(--light-gray);
            width: 100%;
            z-index: 1;
        }

        .progress-fill {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            height: 4px;
            background-color: var(--primary);
            z-index: 2;
            transition: width 0.5s ease;
        }

        .progress-step {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: white;
            border: 3px solid var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--gray);
            z-index: 3;
            transition: var(--transition);
        }

        .progress-step.active {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
        }

        .progress-step.completed {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
        }

        .quiz-question {
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .quiz-option {
            padding: 1.2rem;
            border: 2px solid var(--light-gray);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quiz-option:hover {
            border-color: var(--primary);
            background-color: rgba(67, 97, 238, 0.05);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background-color: rgba(67, 97, 238, 0.1);
        }

        .quiz-option i {
            font-size: 1.2rem;
            color: var(--primary);
        }

        .quiz-buttons {
            display: flex;
            justify-content: space-between;
        }

        .btn {
            padding: 0.8rem 1.8rem;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(67, 97, 238, 0.2);
        }

        .btn-secondary {
            background-color: var(--light-gray);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background-color: #dde1e7;
        }

        .btn-accent {
            background-color: var(--accent);
            color: white;
        }

        .btn-accent:hover {
            background-color: #e11576;
            transform: translateY(-2px);
        }

        /* Results Styles */
        .user-badge {
            display: inline-block;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 15px;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 16px;
            background-color: var(--light-gray);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .category-filter.active {
            background-color: var(--primary);
            color: white;
        }

        .category-filter:hover:not(.active) {
            background-color: #dde1e7;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .recommendation-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
        }

        .card-image {
            height: 150px;
            background-color: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
        }

        .card-image i {
            font-size: 3rem;
            opacity: 0.7;
        }

        .card-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .card-category {
            display: inline-block;
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            align-self: flex-start;
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
            color: var(--dark);
        }

        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 1.2rem;
        }

        .card-tag {
            background-color: var(--light-gray);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            color: var(--gray);
        }

        .card-actions {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
        }

        .share-buttons {
            display: flex;
            gap: 8px;
        }

        .share-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: var(--transition);
        }

        .share-btn.whatsapp {
            background-color: #25D366;
        }

        .share-btn.twitter {
            background-color: #1DA1F2;
        }

        .share-btn.telegram {
            background-color: #0088cc;
        }

        .share-btn:hover {
            transform: scale(1.1);
        }

        .card-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }

        .card-link:hover {
            text-decoration: underline;
        }

        .hidden {
            display: none !important;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .recommendations-grid {
                grid-template-columns: 1fr;
            }
            
            .results-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .quiz-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--light-gray);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Welcome Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            animation: modalSlideIn 0.4s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .modal-header i {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .modal-header h2 {
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .modal-steps {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .modal-step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .modal-step-number {
            background-color: var(--primary);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .modal-step-content h3 {
            margin-bottom: 0.3rem;
            color: var(--dark);
        }

        .modal-step-content p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        /* Description Modal */
        .description-modal {
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .description-content {
            margin-top: 1.5rem;
        }

        .description-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .description-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- Welcome Modal -->
    <div id="welcomeModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <i class="fas fa-compass"></i>
                <h2>Welcome to OptiFind!</h2>
                <p>Your personalized learning and productivity assistant</p>
            </div>
            
            <div class="modal-steps">
                <div class="modal-step">
                    <div class="modal-step-number">1</div>
                    <div class="modal-step-content">
                        <h3>Answer 7 Simple Questions</h3>
                        <p>Tell us about your interests, goals, and preferences.</p>
                    </div>
                </div>
                
                <div class="modal-step">
                    <div class="modal-step-number">2</div>
                    <div class="modal-step-content">
                        <h3>Get Personalized Recommendations</h3>
                        <p>Receive tailored suggestions for courses, books, skills, and apps.</p>
                    </div>
                </div>
                
                <div class="modal-step">
                    <div class="modal-step-number">3</div>
                    <div class="modal-step-content">
                        <h3>Filter by Category</h3>
                        <p>Browse recommendations by type: Courses, Books, Skills, or Apps.</p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="btn btn-primary" id="startQuizBtn">
                    Start Quiz <i class="fas fa-play"></i>
                </button>
                <p style="margin-top: 1rem; font-size: 0.85rem; color: var(--gray);">
                    This tool works entirely in your browser - no data is sent to servers
                </p>
            </div>
        </div>
    </div>

    <!-- Description Modal -->
    <div id="descriptionModal" class="modal-overlay hidden">
        <div class="modal description-modal">
            <div class="modal-header" style="text-align: left; padding-bottom: 0;">
                <h2 id="descriptionTitle"></h2>
                <div id="descriptionCategory" class="card-category" style="margin-top: 0.5rem;"></div>
            </div>
            
            <div class="description-content" id="descriptionContent">
                <!-- Content will be filled by JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn btn-secondary" id="closeDescriptionBtn">
                    Close <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-compass"></i>
                <span>OptiFind</span>
                <span class="badge" id="userBadge">Explorer</span>
            </div>
            <div>
                <button class="btn btn-secondary" id="resetBtn">
                    <i class="fas fa-redo"></i> Restart Quiz
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container main-content">
        <!-- Quiz Section -->
        <section id="quizSection">
            <div class="quiz-container">
                <div class="quiz-progress">
                    <div class="progress-bar"></div>
                    <div class="progress-fill" id="progressFill"></div>
                    <!-- Progress steps will be inserted by JS -->
                </div>
                
                <div class="quiz-question" id="questionText"></div>
                
                <div class="quiz-options" id="quizOptions"></div>
                
                <div class="quiz-buttons">
                    <button class="btn btn-secondary" id="prevBtn">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="nextBtn">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="resultsSection" class="hidden">
            <div class="results-container">
                <div class="user-badge" id="resultsBadge"></div>
                
                <div class="results-header">
                    <h2 class="section-title">Your Personalized Recommendations</h2>
                    <div class="category-filters" id="categoryFilters">
                        <!-- Category filters will be inserted by JS -->
                    </div>
                </div>
                
                <div class="recommendations-grid" id="recommendationsGrid"></div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>OptiFind - Personalized recommendations for learning and productivity</p>
            <p>All data is stored locally in your browser • No tracking • No external APIs</p>
        </div>
    </footer>

    <script>
        // Dataset - Updated with better links
        const dataset = {
            "courses": [
                { 
                    "id": 1, 
                    "name": "JavaScript Basics", 
                    "tags": ["javascript", "web", "programming"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.freecodecamp.org/learn/javascript-algorithms-and-data-structures/",
                    "description": "Learn JavaScript fundamentals including variables, functions, loops, and DOM manipulation. Perfect for beginners starting their web development journey."
                },
                { 
                    "id": 2, 
                    "name": "Intro to Python", 
                    "tags": ["python", "programming", "automation"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.python.org/about/gettingstarted/",
                    "description": "Get started with Python programming language. Learn syntax, data structures, and basic concepts for automation and data analysis."
                },
                { 
                    "id": 3, 
                    "name": "React for Beginners", 
                    "tags": ["react", "javascript", "web"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.coursera.org/learn/react-basics",
                    "description": "Master React.js fundamentals including components, state, props, and hooks. Build modern web applications with this popular JavaScript library."
                },
                { 
                    "id": 4, 
                    "name": "UI/UX Design Fundamentals", 
                    "tags": ["design", "ui", "ux"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.interaction-design.org/literature/topics/ui-design",
                    "description": "Learn user interface and user experience design principles. Create intuitive and beautiful digital products that users love."
                },
                { 
                    "id": 5, 
                    "name": "Data Analysis with Excel", 
                    "tags": ["excel", "data", "analytics"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://support.microsoft.com/en-us/excel",
                    "description": "Master Excel for data analysis. Learn formulas, pivot tables, charts, and data visualization techniques for business insights."
                },
                { 
                    "id": 6, 
                    "name": "Machine Learning Basics", 
                    "tags": ["machine learning", "ai", "python"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.coursera.org/learn/machine-learning",
                    "description": "Introduction to machine learning concepts, algorithms, and applications. Learn how to build predictive models using Python."
                },
                { 
                    "id": 7, 
                    "name": "Personal Productivity Mastery", 
                    "tags": ["productivity", "self-improvement", "habits"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Develop effective productivity systems, time management strategies, and habit formation techniques to maximize your efficiency."
                },
                { 
                    "id": 8, 
                    "name": "Digital Marketing 101", 
                    "tags": ["marketing", "digital", "seo"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn digital marketing fundamentals including SEO, social media marketing, content strategy, and email marketing."
                },
                { 
                    "id": 9, 
                    "name": "Public Speaking Essentials", 
                    "tags": ["communication", "confidence", "skills"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Overcome public speaking anxiety and learn to communicate effectively in presentations, meetings, and public forums."
                },
                { 
                    "id": 10, 
                    "name": "Introduction to SQL", 
                    "tags": ["sql", "database", "data"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.w3schools.com/sql/",
                    "description": "Learn SQL for database management. Master queries, joins, and data manipulation for efficient data handling."
                },
                { 
                    "id": 11, 
                    "name": "Python for Data Science", 
                    "tags": ["python", "data", "machine learning"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Use Python for data analysis, visualization, and machine learning. Learn pandas, numpy, matplotlib, and scikit-learn."
                },
                { 
                    "id": 12, 
                    "name": "Frontend Web Development", 
                    "tags": ["html", "css", "javascript"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Complete frontend development course covering HTML5, CSS3, JavaScript, and modern frameworks."
                },
                { 
                    "id": 13, 
                    "name": "Creative Writing Workshop", 
                    "tags": ["writing", "creativity", "skills"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Develop your creative writing skills. Learn storytelling techniques, character development, and narrative structure."
                },
                { 
                    "id": 14, 
                    "name": "Advanced Excel Techniques", 
                    "tags": ["excel", "productivity", "data"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Advanced Excel skills including macros, VBA, complex formulas, and data analysis tools for power users."
                },
                { 
                    "id": 15, 
                    "name": "Python Automation Projects", 
                    "tags": ["python", "automation", "projects"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn Python automation by building real-world projects including web scraping, file management, and task automation."
                }
            ],

            "books": [
    {
        "id": 1,
        "name": "Atomic Habits",
        "tags": ["habits", "self-improvement", "productivity"],
        "image": "https://via.placeholder.com/150",
        "link": "https://jamesclear.com/atomic-habits",
        "description": "Learn how tiny changes can lead to remarkable results. This book provides a framework for building good habits and breaking bad ones."
    },
    {
        "id": 2,
        "name": "Deep Work",
        "tags": ["focus", "productivity", "self-improvement"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/Deep-Work-Focused-Success-Distracted/dp/1455586692",
        "description": "Master the ability to focus without distraction on cognitively demanding tasks. Learn strategies for achieving peak productivity."
    },
    {
        "id": 3,
        "name": "Clean Code",
        "tags": ["programming", "software", "development"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Clean+Code+Robert+C+Martin",
        "description": "Learn how to write clean, maintainable code. This book covers principles, patterns, and practices for professional software development."
    },
    {
        "id": 4,
        "name": "The 7 Habits of Highly Effective People",
        "tags": ["self-improvement", "productivity", "habits"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=The+7+Habits+of+Highly+Effective+People",
        "description": "Transform your personal and professional life with these seven powerful habits for effectiveness."
    },
    {
        "id": 5,
        "name": "Thinking, Fast and Slow",
        "tags": ["psychology", "decision-making", "self-improvement"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Thinking+Fast+and+Slow+Daniel+Kahneman",
        "description": "Explore the two systems that drive how we think: fast, intuitive thinking and slow, deliberate thinking."
    },
    {
        "id": 6,
        "name": "The Lean Startup",
        "tags": ["entrepreneurship", "business", "startup"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=The+Lean+Startup+Eric+Ries",
        "description": "Learn how to build a successful startup using continuous innovation and validated learning."
    },
    {
        "id": 7,
        "name": "Zero to One",
        "tags": ["entrepreneurship", "business", "innovation"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Zero+to+One+Peter+Thiel",
        "description": "Learn how to build companies that create new things and move from zero to one in innovation."
    },
    {
        "id": 8,
        "name": "The Power of Habit",
        "tags": ["habits", "self-improvement", "psychology"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=The+Power+of+Habit+Charles+Duhigg",
        "description": "Understand the science of habits and learn how to transform your business and personal life."
    },
    {
        "id": 9,
        "name": "Mindset",
        "tags": ["growth", "self-improvement", "psychology"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Mindset+Carol+S+Dweck",
        "description": "Discover how a simple idea about the brain can create a love of learning and resilience in the face of challenges."
    },
    {
        "id": 10,
        "name": "Hooked",
        "tags": ["behavior", "design", "psychology"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Hooked+Nir+Eyal",
        "description": "Learn how to build habit-forming products using the Hook Model of trigger, action, variable reward, and investment."
    },
    {
        "id": 11,
        "name": "Deep Learning with Python",
        "tags": ["python", "machine learning", "ai"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Deep+Learning+with+Python+Francois+Chollet",
        "description": "Practical introduction to deep learning using Python and Keras. Build neural networks for real-world applications."
    },
    {
        "id": 12,
        "name": "Eloquent JavaScript",
        "tags": ["javascript", "programming", "web"],
        "image": "https://via.placeholder.com/150",
        "link": "https://eloquentjavascript.net/",
        "description": "A modern introduction to programming with JavaScript. Learn the language fundamentals and explore web development."
    },
    {
        "id": 13,
        "name": "The Art of Thinking Clearly",
        "tags": ["decision-making", "psychology", "self-improvement"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=The+Art+of+Thinking+Clearly+Rolf+Dobelli",
        "description": "Learn about cognitive biases and how to avoid them to make better decisions in life and business."
    },
    {
        "id": 14,
        "name": "Design of Everyday Things",
        "tags": ["design", "ux", "product"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=The+Design+of+Everyday+Things+Don+Norman",
        "description": "Understand the principles of good design and how to create products that are intuitive and user-friendly."
    },
    {
        "id": 15,
        "name": "Cracking the Coding Interview",
        "tags": ["programming", "interview", "career"],
        "image": "https://via.placeholder.com/150",
        "link": "https://www.amazon.com/s?k=Cracking+the+Coding+Interview+Gayle+Laakmann+McDowell",
        "description": "Prepare for technical interviews with coding problems, solutions, and strategies for success."
    }
],

            "skills": [
                { 
                    "id": 1, 
                    "name": "Web Development", 
                    "tags": ["html", "css", "javascript"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn to build responsive websites and web applications using HTML, CSS, and JavaScript."
                },
                { 
                    "id": 2, 
                    "name": "Time Management", 
                    "tags": ["productivity", "habits", "focus"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Master techniques for prioritizing tasks, avoiding procrastination, and maximizing productivity."
                },
                { 
                    "id": 3, 
                    "name": "UI Design", 
                    "tags": ["design", "ui", "ux"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Create beautiful and functional user interfaces for websites and mobile applications."
                },
                { 
                    "id": 4, 
                    "name": "Public Speaking", 
                    "tags": ["communication", "confidence", "skills"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Develop confidence and skills for effective public speaking and presentation delivery."
                },
                { 
                    "id": 5, 
                    "name": "Data Analysis", 
                    "tags": ["excel", "data", "analytics"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn to collect, process, analyze, and visualize data to make informed decisions."
                },
                { 
                    "id": 6, 
                    "name": "Python Programming", 
                    "tags": ["python", "programming", "automation"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Master Python programming for automation, data analysis, web development, and more."
                },
                { 
                    "id": 7, 
                    "name": "Machine Learning", 
                    "tags": ["ai", "python", "data"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn to build and train machine learning models for prediction, classification, and pattern recognition."
                },
                { 
                    "id": 8, 
                    "name": "Creative Writing", 
                    "tags": ["writing", "creativity", "skills"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Develop your writing voice and learn techniques for storytelling, poetry, and creative expression."
                },
                { 
                    "id": 9, 
                    "name": "Digital Marketing", 
                    "tags": ["marketing", "digital", "seo"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn to promote products and services using digital channels and analytics."
                },
                { 
                    "id": 10, 
                    "name": "Project Management", 
                    "tags": ["organization", "planning", "skills"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Master project planning, execution, and delivery using various methodologies and tools."
                },
                { 
                    "id": 11, 
                    "name": "Interview Preparation", 
                    "tags": ["career", "skills", "programming"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Prepare for technical and behavioral interviews with practice questions and strategies."
                },
                { 
                    "id": 12, 
                    "name": "Networking Skills", 
                    "tags": ["communication", "career", "social"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn to build professional relationships and expand your career network effectively."
                },
                { 
                    "id": 13, 
                    "name": "Graphic Design", 
                    "tags": ["design", "creativity", "ux"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Create visual content using design principles, typography, and color theory."
                },
                { 
                    "id": 14, 
                    "name": "Excel Advanced Skills", 
                    "tags": ["excel", "data", "analytics"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Master advanced Excel features including complex formulas, pivot tables, and data analysis tools."
                },
                { 
                    "id": 15, 
                    "name": "AI Prompt Engineering", 
                    "tags": ["ai", "machine learning", "tools"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Learn to craft effective prompts for AI models to get optimal results and creative outputs."
                }
            ],

            "apps": [
                { 
                    "id": 1, 
                    "name": "Notion", 
                    "tags": ["productivity", "notes", "organization"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.notion.so/",
                    "description": "All-in-one workspace for notes, tasks, wikis, and databases. Great for personal and team productivity."
                },
                { 
                    "id": 2, 
                    "name": "Obsidian", 
                    "tags": ["notes", "knowledge", "organization"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://obsidian.md/",
                    "description": "Powerful knowledge base that works on top of a local folder of plain text Markdown files."
                },
                { 
                    "id": 3, 
                    "name": "Todoist", 
                    "tags": ["productivity", "tasks", "planning"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://todoist.com/",
                    "description": "Simple yet powerful task manager to organize your work and life. Available on all platforms."
                },
                { 
                    "id": 4, 
                    "name": "Trello", 
                    "tags": ["project management", "planning", "team"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://trello.com/",
                    "description": "Visual project management tool using boards, lists, and cards. Great for team collaboration."
                },
                { 
                    "id": 5, 
                    "name": "Figma", 
                    "tags": ["design", "ui", "ux"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.figma.com/",
                    "description": "Collaborative interface design tool for creating, prototyping, and sharing designs."
                },
                { 
                    "id": 6, 
                    "name": "Canva", 
                    "tags": ["design", "creativity", "marketing"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://www.canva.com/",
                    "description": "Easy-to-use design tool for creating graphics, presentations, and social media content."
                },
                { 
                    "id": 7, 
                    "name": "Slack", 
                    "tags": ["team", "communication", "organization"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://slack.com/",
                    "description": "Team communication platform with channels, direct messages, and integrations with other tools."
                },
                { 
                    "id": 8, 
                    "name": "Google Calendar", 
                    "tags": ["planning", "productivity", "organization"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://calendar.google.com/",
                    "description": "Time-management and scheduling calendar service for organizing meetings, events, and tasks."
                },
                { 
                    "id": 9, 
                    "name": "Evernote", 
                    "tags": ["notes", "organization", "productivity"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Note-taking app for capturing ideas, organizing information, and syncing across devices."
                },
                { 
                    "id": 10, 
                    "name": "Zoom", 
                    "tags": ["communication", "meetings", "team"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Video conferencing platform for hosting meetings, webinars, and virtual events."
                },
                { 
                    "id": 11, 
                    "name": "Asana", 
                    "tags": ["project management", "team", "planning"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Work management platform for teams to organize, track, and manage their work."
                },
                { 
                    "id": 12, 
                    "name": "ClickUp", 
                    "tags": ["productivity", "tasks", "planning"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "All-in-one productivity platform for tasks, docs, goals, and team collaboration."
                },
                { 
                    "id": 13, 
                    "name": "VS Code", 
                    "tags": ["programming", "development", "tools"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "https://code.visualstudio.com/",
                    "description": "Free source-code editor with built-in support for debugging, Git, extensions, and IntelliSense."
                },
                { 
                    "id": 14, 
                    "name": "Spotify", 
                    "tags": ["music", "entertainment", "apps"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Music streaming service with millions of songs, podcasts, and personalized playlists."
                },
                { 
                    "id": 15, 
                    "name": "Duolingo", 
                    "tags": ["learning", "languages", "skills"], 
                    "image": "https://via.placeholder.com/150", 
                    "link": "#",
                    "description": "Language-learning platform with gamified lessons for learning new languages effectively."
                }
            ]
        };

        // Quiz Questions
        const quizQuestions = [
            {
                id: 1,
                question: "What area do you want to focus on improving?",
                options: [
                    { text: "Technical Skills & Programming", tags: ["programming", "javascript", "python", "web"] },
                    { text: "Productivity & Self-Improvement", tags: ["productivity", "self-improvement", "habits", "focus"] },
                    { text: "Design & Creativity", tags: ["design", "ui", "ux", "creativity"] },
                    { text: "Business & Entrepreneurship", tags: ["business", "entrepreneurship", "marketing", "startup"] }
                ]
            },
            {
                id: 2,
                question: "Which of these sounds most interesting to you?",
                options: [
                    { text: "Building websites and web applications", tags: ["web", "javascript", "html", "css"] },
                    { text: "Analyzing data and finding insights", tags: ["data", "analytics", "excel", "python"] },
                    { text: "Creating visual designs and user experiences", tags: ["design", "ui", "ux", "creativity"] },
                    { text: "Managing projects and teams efficiently", tags: ["project management", "organization", "team", "planning"] }
                ]
            },
            {
                id: 3,
                question: "What's your current skill level in your chosen area?",
                options: [
                    { text: "Beginner - Just starting out", tags: ["basics", "fundamentals", "intro"] },
                    { text: "Intermediate - Have some experience", tags: ["intermediate", "projects", "development"] },
                    { text: "Advanced - Looking to master specific areas", tags: ["advanced", "mastery", "expert"] },
                    { text: "Mixed - Strong in some areas, new to others", tags: ["mixed", "variety", "skills"] }
                ]
            },
            {
                id: 4,
                question: "How do you prefer to learn?",
                options: [
                    { text: "Structured courses with clear progression", tags: ["courses", "structured", "learning"] },
                    { text: "Reading books to deeply understand concepts", tags: ["books", "deep", "understanding"] },
                    { text: "Practical apps and tools I can use immediately", tags: ["apps", "tools", "practical"] },
                    { text: "Developing specific skills through practice", tags: ["skills", "practice", "application"] }
                ]
            },
            {
                id: 5,
                question: "What's your primary goal?",
                options: [
                    { text: "Advance my career", tags: ["career", "interview", "skills"] },
                    { text: "Increase personal productivity", tags: ["productivity", "habits", "focus"] },
                    { text: "Learn for personal enjoyment", tags: ["creativity", "writing", "psychology"] },
                    { text: "Start my own business/project", tags: ["entrepreneurship", "startup", "business"] }
                ]
            },
            {
                id: 6,
                question: "Which tools do you use most often?",
                options: [
                    { text: "Programming tools (VS Code, Git, etc.)", tags: ["programming", "development", "tools"] },
                    { text: "Productivity apps (Notion, Todoist, Calendar)", tags: ["productivity", "notes", "organization"] },
                    { text: "Design software (Figma, Canva, Adobe)", tags: ["design", "ui", "ux"] },
                    { text: "Communication tools (Slack, Zoom, Teams)", tags: ["communication", "team", "meetings"] }
                ]
            },
            {
                id: 7,
                question: "How much time can you dedicate weekly?",
                options: [
                    { text: "1-3 hours - Light learning", tags: ["basics", "fundamentals", "intro"] },
                    { text: "3-7 hours - Moderate commitment", tags: ["intermediate", "projects", "skills"] },
                    { text: "7+ hours - Deep dive", tags: ["advanced", "mastery", "deep"] },
                    { text: "Varies - Depends on the week", tags: ["flexible", "variety", "mixed"] }
                ]
            }
        ];

        // App State
        const state = {
            currentQuestionIndex: 0,
            userAnswers: [],
            userTags: [],
            filteredRecommendations: [],
            currentRecIndex: 0,
            activeCategory: 'all'
        };

        // DOM Elements
        const quizSection = document.getElementById('quizSection');
        const resultsSection = document.getElementById('resultsSection');
        const questionText = document.getElementById('questionText');
        const quizOptions = document.getElementById('quizOptions');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');
        const progressFill = document.getElementById('progressFill');
        const userBadge = document.getElementById('userBadge');
        const resultsBadge = document.getElementById('resultsBadge');
        const categoryFilters = document.getElementById('categoryFilters');
        const recommendationsGrid = document.getElementById('recommendationsGrid');
        const welcomeModal = document.getElementById('welcomeModal');
        const startQuizBtn = document.getElementById('startQuizBtn');
        const descriptionModal = document.getElementById('descriptionModal');
        const descriptionTitle = document.getElementById('descriptionTitle');
        const descriptionCategory = document.getElementById('descriptionCategory');
        const descriptionContent = document.getElementById('descriptionContent');
        const closeDescriptionBtn = document.getElementById('closeDescriptionBtn');

        // Initialize the app
        function init() {
            // Check if user has seen tutorial
            const hasSeenTutorial = localStorage.getItem('optifindSeenTutorial');
            
            // Check if user has completed quiz before
            const savedState = localStorage.getItem('optifindState');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                state.userAnswers = parsedState.userAnswers || [];
                state.userTags = parsedState.userTags || [];
                
                if (state.userAnswers.length === quizQuestions.length) {
                    // User has completed the quiz before
                    showResults();
                    generateRecommendations();
                    updateBadge();
                } else {
                    // User has partial answers, restore state
                    state.currentQuestionIndex = state.userAnswers.length;
                    loadQuestion();
                }
                
                // Show welcome modal only on first visit
                if (!hasSeenTutorial) {
                    setTimeout(() => {
                        welcomeModal.classList.remove('hidden');
                    }, 500);
                }
            } else {
                // First-time user - show welcome modal
                if (!hasSeenTutorial) {
                    welcomeModal.classList.remove('hidden');
                    quizSection.classList.add('hidden');
                } else {
                    loadQuestion();
                }
            }
            
            setupEventListeners();
            createProgressSteps();
        }

        // Show item description modal
        function showDescription(item) {
            descriptionTitle.textContent = item.name;
            descriptionCategory.textContent = item.category;
            
            let descriptionHTML = `
                <p>${item.description}</p>
                
                <div class="description-tags">
                    ${item.tags.map(tag => `<span class="card-tag">${tag}</span>`).join('')}
                </div>
            `;
            
            // Add link section if available
            if (item.link && item.link !== '#') {
                descriptionHTML += `
                    <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--light-gray);">
                        <h3 style="margin-bottom: 0.5rem;">Get Started</h3>
                        <p>Visit the official resource to learn more:</p>
                        <a href="${item.link}" target="_blank" class="btn btn-primary" style="margin-top: 1rem; display: inline-block;">
                            <i class="fas fa-external-link-alt"></i> Visit Website
                        </a>
                    </div>
                `;
            }
            
            descriptionContent.innerHTML = descriptionHTML;
            descriptionModal.classList.remove('hidden');
        }

        // Create progress steps for the quiz
        function createProgressSteps() {
            const progressContainer = document.querySelector('.quiz-progress');
            // Clear existing steps (except progress bar)
            const existingSteps = document.querySelectorAll('.progress-step');
            existingSteps.forEach(step => step.remove());
            
            // Create steps for each question
            for (let i = 0; i < quizQuestions.length; i++) {
                const step = document.createElement('div');
                step.className = 'progress-step';
                if (i < state.currentQuestionIndex) {
                    step.classList.add('completed');
                } else if (i === state.currentQuestionIndex) {
                    step.classList.add('active');
                }
                step.textContent = i + 1;
                progressContainer.appendChild(step);
            }
            
            // Update progress bar fill
            const progressPercentage = (state.currentQuestionIndex / (quizQuestions.length - 1)) * 100;
            progressFill.style.width = `${progressPercentage}%`;
        }

        // Load current question
        function loadQuestion() {
            const currentQuestion = quizQuestions[state.currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            
            // Clear previous options
            quizOptions.innerHTML = '';
            
            // Create new options
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                if (state.userAnswers[state.currentQuestionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
              optionElement.innerHTML = `
    <i class="fas fa-${getOptionIcon(state.currentQuestionIndex, index)}"></i>
    <span>${option.text}</span>
`;
                optionElement.addEventListener('click', () => selectOption(index));
                quizOptions.appendChild(optionElement);
            });
            
            // Update buttons
            prevBtn.disabled = state.currentQuestionIndex === 0;
            nextBtn.textContent = state.currentQuestionIndex === quizQuestions.length - 1 ? 'Get Recommendations' : 'Next';
            nextBtn.innerHTML = state.currentQuestionIndex === quizQuestions.length - 1 ? 
                'Get Recommendations <i class="fas fa-arrow-right"></i>' : 
                'Next <i class="fas fa-arrow-right"></i>';
            
            // Update progress steps
            createProgressSteps();
        }

        // Get icon for option based on index
        // Get icon for option based on question and option index
function getOptionIcon(questionIndex, optionIndex) {
    // Different icon sets for different questions
    const iconSets = [
        ['laptop-code', 'chart-line', 'palette', 'briefcase'], // Q1: Area of focus
        ['code', 'chart-bar', 'paint-brush', 'project-diagram'], // Q2: Interests
        ['seedling', 'rocket', 'crown', 'layer-group'], // Q3: Skill level
        ['graduation-cap', 'book-open', 'mobile-alt', 'dumbbell'], // Q4: Learning preference
        ['user-tie', 'bolt', 'heart', 'lightbulb'], // Q5: Primary goal
        ['code', 'clipboard-list', 'pen-fancy', 'comments'], // Q6: Tools used
        ['clock', 'calendar-check', 'brain', 'random'] // Q7: Time dedication
    ];
    
    // Use questionIndex to get the right icon set, fallback to default if out of bounds
    const icons = iconSets[questionIndex] || ['circle', 'square', 'star', 'check'];
    
    // Return the icon for this option, fallback if out of bounds
    return icons[optionIndex] || 'question';
}

        // Select an option
        function selectOption(optionIndex) {
            // Update UI
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => option.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            
            // Save answer
            state.userAnswers[state.currentQuestionIndex] = optionIndex;
            
            // Save state to localStorage
            saveState();
        }

        // Save state to localStorage
        function saveState() {
            localStorage.setItem('optifindState', JSON.stringify({
                userAnswers: state.userAnswers,
                userTags: state.userTags
            }));
        }

        // Go to next question
        function nextQuestion() {
            // Check if an option is selected
            if (state.userAnswers[state.currentQuestionIndex] === undefined) {
                alert('Please select an option before continuing.');
                return;
            }
            
            // If this is the last question, calculate results
            if (state.currentQuestionIndex === quizQuestions.length - 1) {
                calculateUserTags();
                showResults();
                generateRecommendations();
                updateBadge();
                return;
            }
            
            // Otherwise, go to next question
            state.currentQuestionIndex++;
            loadQuestion();
            saveState();
        }

        // Go to previous question
        function prevQuestion() {
            state.currentQuestionIndex--;
            loadQuestion();
        }

        // Calculate user tags based on answers
        function calculateUserTags() {
            state.userTags = [];
            
            // Collect all tags from selected options
            state.userAnswers.forEach((answerIndex, questionIndex) => {
                const selectedOption = quizQuestions[questionIndex].options[answerIndex];
                state.userTags.push(...selectedOption.tags);
            });
            
            // Remove duplicates
            state.userTags = [...new Set(state.userTags)];
            
            saveState();
        }

        /**
         * RECOMMENDATION ENGINE
         * This function scores each item in the dataset based on how many tags match the user's selected tags.
         * It returns the top 10 items sorted by score (highest first).
         * 
         * Logic:
         * 1. Combine all items from all categories into one array
         * 2. For each item, calculate a score based on tag matches
         * 3. Each matching tag adds 1 point to the score
         * 4. Sort items by score (descending)
         * 5. Return top 10 items
         * 
         * @param {Array} userTags - Array of tags selected by the user
         * @returns {Array} Top 10 recommended items with their categories
         */
        function getRecommendations(userTags) {
            // Combine all items from all categories with their category info
            const allItems = [];
            
            for (const category in dataset) {
                dataset[category].forEach(item => {
                    allItems.push({
                        ...item,
                        category: category.charAt(0).toUpperCase() + category.slice(1)
                    });
                });
            }
            
            // Calculate score for each item based on tag matches
            const scoredItems = allItems.map(item => {
                let score = 0;
                
                // For each tag in the item, check if it matches any user tag
                item.tags.forEach(tag => {
                    if (userTags.includes(tag)) {
                        score += 1;
                    }
                });
                
                return {
                    ...item,
                    score: score
                };
            });
            
            // Sort by score (descending) and get top 10
            const topItems = scoredItems
                .sort((a, b) => b.score - a.score)
                .slice(0, 10);
            
            return topItems;
        }

        // Generate and display recommendations
        function generateRecommendations() {
            const recommendations = getRecommendations(state.userTags);
            state.filteredRecommendations = recommendations;
            state.currentRecIndex = 0;
            
            // Display category filters
            displayCategoryFilters();
            
            // Display recommendations
            displayRecommendations(recommendations);
        }

        // Display category filters
        function displayCategoryFilters() {
            const categories = ['all', 'Courses', 'Books', 'Skills', 'Apps'];
            
            categoryFilters.innerHTML = '';
            
            categories.forEach(category => {
                const filter = document.createElement('div');
                filter.className = `category-filter ${state.activeCategory === category ? 'active' : ''}`;
                filter.textContent = category === 'all' ? 'All' : category;
                filter.addEventListener('click', () => filterByCategory(category));
                categoryFilters.appendChild(filter);
            });
        }

        // Filter recommendations by category
        function filterByCategory(category) {
            state.activeCategory = category;
            
            // Update active filter UI
            document.querySelectorAll('.category-filter').forEach(filter => {
                filter.classList.remove('active');
                if (filter.textContent === (category === 'all' ? 'All' : category)) {
                    filter.classList.add('active');
                }
            });
            
            // Filter recommendations
            let filtered = state.filteredRecommendations;
            if (category !== 'all') {
                filtered = state.filteredRecommendations.filter(item => 
                    item.category.toLowerCase() === category.toLowerCase()
                );
            }
            
            displayRecommendations(filtered);
        }

        // Display recommendations in the grid
function displayRecommendations(items) {
    recommendationsGrid.innerHTML = '';
    
    if (items.length === 0) {
        recommendationsGrid.innerHTML = `
            <div style="grid-column: 1/-1; text-align: center; padding: 3rem; color: var(--gray);">
                <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                <h3>No recommendations found for this category</h3>
                <p>Try selecting a different category or restart the quiz</p>
            </div>
        `;
        return;
    }
    
    items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'recommendation-card';
        
        // Get appropriate icon based on category
        const icon = getCategoryIcon(item.category);
        
        // Check if link is valid (not "#")
        const hasValidLink = item.link && item.link !== '#';
        
        card.innerHTML = `
            <div class="card-image">
                <i class="fas fa-${icon}"></i>
            </div>
            <div class="card-content">
                <span class="card-category">${item.category}</span>
                <h3 class="card-title">${item.name}</h3>
                <div class="card-tags">
                    ${item.tags.map(tag => `<span class="card-tag">${tag}</span>`).join('')}
                </div>
                <div class="card-actions">
                    <div class="share-buttons">
                        <div class="share-btn whatsapp" onclick="shareItem('${item.name}', 'whatsapp')">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="share-btn twitter" onclick="shareItem('${item.name}', 'twitter')">
                            <i class="fab fa-twitter"></i>
                        </div>
                        <div class="share-btn telegram" onclick="shareItem('${item.name}', 'telegram')">
                            <i class="fab fa-telegram"></i>
                        </div>
                    </div>
                    ${hasValidLink ? 
                        `<a href="${item.link}" class="card-link" target="_blank">
                            Learn More <i class="fas fa-arrow-right"></i>
                        </a>` : 
                        `<a href="javascript:void(0)" class="card-link" onclick="showDescription(${JSON.stringify(item).replace(/"/g, '&quot;')})">
                            View Details <i class="fas fa-info-circle"></i>
                        </a>`
                    }
                </div>
            </div>
        `;
        
        recommendationsGrid.appendChild(card);
    });
}

        // Get icon for category
        function getCategoryIcon(category) {
            const icons = {
                'Courses': 'graduation-cap',
                'Books': 'book',
                'Skills': 'tools',
                'Apps': 'mobile-alt'
            };
            return icons[category] || 'star';
        }

        // Share item on social media
        function shareItem(itemName, platform) {
            const url = window.location.href;
            const text = `Check out "${itemName}" on OptiFind - personalized recommendations for learning and productivity!`;
            
            let shareUrl = '';
            
            switch(platform) {
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                    break;
                case 'telegram':
                    shareUrl = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
                    break;
            }
            
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // Update user badge based on number of tags
        function updateBadge() {
            const tagCount = state.userTags.length;
            let badge = 'Explorer';
            
            if (tagCount >= 15) {
                badge = 'Master Learner';
            } else if (tagCount >= 10) {
                badge = 'Skill Seeker';
            } else if (tagCount >= 5) {
                badge = 'Knowledge Hunter';
            }
            
            userBadge.textContent = badge;
            resultsBadge.textContent = badge;
        }

        // Show results section
        function showResults() {
            quizSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');
        }

        // Reset quiz
        function resetQuiz() {
            state.currentQuestionIndex = 0;
            state.userAnswers = [];
            state.userTags = [];
            state.filteredRecommendations = [];
            state.currentRecIndex = 0;
            state.activeCategory = 'all';
            
            // Clear localStorage
            localStorage.removeItem('optifindState');
            
            // Show quiz section
            resultsSection.classList.add('hidden');
            quizSection.classList.remove('hidden');
            
            // Reload first question
            loadQuestion();
        }

        // Start quiz from welcome modal
        function startQuiz() {
            welcomeModal.classList.add('hidden');
            quizSection.classList.remove('hidden');
            localStorage.setItem('optifindSeenTutorial', 'true');
        }

        // Set up event listeners
        function setupEventListeners() {
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            resetBtn.addEventListener('click', resetQuiz);
            startQuizBtn.addEventListener('click', startQuiz);
            closeDescriptionBtn.addEventListener('click', () => {
                descriptionModal.classList.add('hidden');
            });
            
            // Close modals when clicking outside
            welcomeModal.addEventListener('click', (e) => {
                if (e.target === welcomeModal) {
                    startQuiz();
                }
            });
            
            descriptionModal.addEventListener('click', (e) => {
                if (e.target === descriptionModal) {
                    descriptionModal.classList.add('hidden');
                }
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>